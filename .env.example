# =============================================================================
# AI HEDGE FUND SYSTEM - ENVIRONMENT CONFIGURATION
# =============================================================================
# IMPORTANT: Copy this file to .env and add your actual API keys
# Never commit .env with real keys to git!
#
# Quick Start:
# 1. cp .env.example .env
# 2. Add your GEMINI_API_KEY (get free key: https://makersuite.google.com/app/apikey)
# 3. Start system: ./start_system.sh
#
# =============================================================================

# -----------------------------------------------------------------------------
# LLM Provider Configuration (Optional - for enhanced sentiment analysis)
# -----------------------------------------------------------------------------
# The system uses LLMs for:
# 1. News sentiment analysis in Sentiment Agent (25% weight)
# 2. Sophisticated investment thesis generation in Narrative Engine
#
# LLM integration is optional and gracefully degrades if keys are not provided.

# Provider Selection: gemini (recommended, free tier), openai, anthropic
LLM_PROVIDER=gemini

# Google Gemini API Key (RECOMMENDED - Free tier available)
# Get your key: https://makersuite.google.com/app/apikey
# Model: gemini-1.5-flash (fast, cost-effective)
GEMINI_API_KEY=your_gemini_api_key_here

# OpenAI API Key (Alternative - Paid)
# Get your key: https://platform.openai.com/api-keys
# Model: gpt-3.5-turbo (high quality, requires paid account)
# OPENAI_API_KEY=your_openai_key_here

# Anthropic API Key (Alternative - Paid)
# Get your key: https://console.anthropic.com/settings/keys
# Model: claude-3-haiku-20240307 (excellent reasoning)
# ANTHROPIC_API_KEY=your_anthropic_key_here

# NewsAPI Key (Optional - for enhanced news sentiment)
# Get your key: https://newsapi.org/register
# Free tier: 100 requests/day
# NEWS_API_KEY=your_newsapi_key_here

# -----------------------------------------------------------------------------
# System Configuration
# -----------------------------------------------------------------------------

# Feature Flags

# Enable ML-based adaptive agent weights (default: false)
# When enabled, agent weights adjust based on market regime (bull/bear/sideways)
# Provides 5-10% performance improvement in different market cycles
ENABLE_ADAPTIVE_WEIGHTS=false

# Cache Configuration

# Maximum number of analysis results to cache in memory
# Default: 2000 entries (sufficient for 50 stocks Ã— 40 requests)
# Increase if you have a larger stock universe or higher request volume
CACHE_MAX_SIZE=2000

# Time-to-live for cache entries in seconds
# Default: 1200 seconds (20 minutes, matches API cache TTL)
# Lower values = fresher data, higher API usage
# Higher values = less API calls, potentially stale data
CACHE_TTL_SECONDS=1200

# API Timeouts

# Timeout for yfinance API calls in seconds
# Default: 15 seconds (sufficient for most market data fetches)
YFINANCE_TIMEOUT=15

# Timeout for general API requests in seconds
# Default: 30 seconds (sufficient for analysis endpoints)
API_REQUEST_TIMEOUT=30

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Backend API Server
API_HOST=0.0.0.0
API_PORT=8010

# Frontend Development Server
# Default: 5174 (Vite's fallback port if 5173 is taken)
FRONTEND_PORT=5174

# CORS Configuration
# Comma-separated list of allowed origins
# Use '*' for development only (security risk in production)
# Example: http://localhost:5173,http://localhost:5174,https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------

# Environment: development, staging, production
# Affects logging verbosity and error reporting behavior
ENVIRONMENT=development

# Sentry Error Tracking (Optional - for production monitoring)
# Get your DSN from https://sentry.io/
# Free tier: 5,000 events/month
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENABLED=false

# Logging Configuration
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO (recommended for production)
LOG_LEVEL=INFO

# Log format: json (for log aggregation) or text (human-readable)
# Default: text for development, json for production
LOG_FORMAT=text

# -----------------------------------------------------------------------------
# Rate Limiting (Optional - for production deployment)
# -----------------------------------------------------------------------------
# Protect your API from abuse and ensure fair usage

# Enable rate limiting (default: false for development)
# RATE_LIMIT_ENABLED=false

# Maximum requests per time period
# RATE_LIMIT_REQUESTS=100

# Time period in seconds (default: 60 = 1 minute)
# RATE_LIMIT_PERIOD=60

# -----------------------------------------------------------------------------
# Advanced Configuration (Usually not needed)
# -----------------------------------------------------------------------------

# Backtest Configuration
# BACKTEST_MAX_WORKERS=5          # Parallel workers for backtesting (default: 5)
# BACKTEST_BATCH_SIZE=10          # Stocks to process per batch (default: 10)

# Data Provider Configuration
# DATA_PROVIDER_CACHE_TTL=1200    # Cache duration for market data (default: 1200s)
# DATA_PROVIDER_MAX_RETRIES=3     # Retry attempts for failed requests (default: 3)

# Agent Configuration
# AGENT_TIMEOUT=30                # Timeout for individual agent execution (default: 30s)
# AGENT_MAX_RETRIES=2             # Retry attempts for failed agents (default: 2)

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
#
# 1. API Keys Security:
#    - Never commit .env file to version control
#    - Use environment variables in production (not .env files)
#    - Rotate keys regularly
#    - Use different keys for dev/staging/prod
#
# 2. Performance Tuning:
#    - Increase CACHE_MAX_SIZE if you analyze many stocks
#    - Decrease CACHE_TTL_SECONDS for more real-time data
#    - Adjust API timeouts based on network conditions
#
# 3. Cost Optimization:
#    - Use Gemini (free tier) for development
#    - Enable caching to reduce API calls
#    - Monitor your API usage in provider dashboards
#
# 4. Monitoring:
#    - Enable Sentry for production error tracking
#    - Set LOG_LEVEL=INFO or WARNING in production
#    - Use LOG_FORMAT=json for log aggregation tools
#
# =============================================================================
